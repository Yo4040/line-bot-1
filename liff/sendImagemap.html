<!DOCTYPE html>
<html lang="jp" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ybot LIFF sendFlex</title>
  <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {
      liff
        .init({
          liffId: '1656316634-09bXLKaV'
        })
        .then(() => {
          document.getElementById('go').addEventListener('click', () => {
            liff.shareTargetPicker([
              {
                "type": "imagemap",
                "baseUrl": "https://example.com/bot/images/rm001",
                "altText": "This is an imagemap",
                "baseSize": {
                  "width": 1040,
                  "height": 1040
                },
                "video": {
                  "originalContentUrl": "https://example.com/video.mp4",
                  "previewImageUrl": "https://example.com/video_preview.jpg",
                  "area": {
                    "x": 0,
                    "y": 0,
                    "width": 1040,
                    "height": 585
                  },
                  "externalLink": {
                    "linkUri": "https://example.com/see_more.html",
                    "label": "See More"
                  }
                },
                "actions": [
                  {
                    "type": "uri",
                    "linkUri": "https://example.com/",
                    "area": {
                      "x": 0,
                      "y": 586,
                      "width": 520,
                      "height": 454
                    }
                  },
                  {
                    "type": "message",
                    "text": "Hello",
                    "area": {
                      "x": 520,
                      "y": 586,
                      "width": 520,
                      "height": 454
                    }
                  }
                ]
              }
            ]).then(function () {
              document.getElementById('log').value += 'sendMessagesFlex completed\n';
            }).catch(function (error) {
              document.getElementById('log').value += 'sendMessagesText()=' + error + '\n';
            });
          });
        })
        .catch((err) => {
          document.getElementById('log').value = 'init ng\n' + err;
        });
    });
  </script>
</head>

<body>
  <div>
    <h3>メッセージを送信する</h3>
    <div>Title<input type="text" id="sendFlexTitle" placeholder="タイトルを入力してください" value="" /></div>
    <div>Text<input type="text" id="sendFlexText" placeholder="FlexMessageの本文を入力してください" value="" /></div>
    <div>altText<input type="text" id="sendFlexAltText" placeholder="トーク一覧で表示されるテキストを入力してください" value="" /></div>
    <input type="button" id="go" value="実行" />
    <textarea id="log" placeholder="Log" style="width:96%;height:100px;"></textarea>
  </div>
</body>

</html>